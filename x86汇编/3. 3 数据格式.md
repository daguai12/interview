### **3.3 数据格式**

由于 x86 体系结构是从 16 位扩展到 32 位，再到 64 位的，Intel 使用了一些历史术语来表示数据大小：
* **字 (word)**: 表示 16 位数据类型。
* **双字 (double words)**: 表示 32 位数据类型。
* **四字 (quad words)**: 表示 64 位数据类型。

下表展示了 C 语言基本数据类型在 x86-64 架构下的表示方式、大小以及在汇编代码中对应的后缀。

**图 3-1：C 语言数据类型在 x86-64 中的大小**

| C 声明     | Intel 数据类型             | 汇编代码后缀 | 大小 (字节) |
| :------- | :--------------------- | :----- | :------ |
| `char`   | 字节 (Byte)              | `b`    | 1       |
| `short`  | 字 (Word)               | `w`    | 2       |
| `int`    | 双字 (Double Word)       | `l`    | 4       |
| `long`   | 四字 (Quad Word)         | `q`    | 8       |
| `char *` | 四字 (Quad Word)         | `q`    | 8       |
| `float`  | 单精度 (Single Precision) | `s`    | 4       |
| `double` | 双精度 (Double Precision) | `l`    | 8       |

#### **浮点数**
浮点数主要有两种形式：
* **单精度 (`float`)**: 4 字节。
* **双精度 (`double`)**: 8 字节。

> **关于 `long double`**:
> x86 历史上实现过一种特殊的 80 位（10 字节）浮点格式，在 C 语言中可以用 `long double` 来指定。但**不建议使用**这种格式，因为它不能移植到其他类型的机器上，而且其硬件运算效率也不如标准的单精度和双精度。

#### **汇编代码后缀**
大多数 GCC 生成的汇编代码指令都有一个字符后缀，用以表明操作数的大小。
* **`movb`** (传送**b**yte, 字节): 1 字节
* **`movw`** (传送**w**ord, 字): 2 字节
* **`movl`** (传送**l**ong word, 长字/双字): 4 字节
* **`movq`** (传送**q**uad word, 四字): 8 字节

**注意**：后缀 `l` 同时被用于 4 字节的整数（`long word`）和 8 字节的双精度浮点数（`double`）。这不会产生歧义，因为浮点数使用的是一组完全不同的指令和寄存تر。