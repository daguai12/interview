好的，这是您提供的文本内容。

-----

### 5.2 识别命令

知道使用的命令属于哪种情况往往很有帮助，Linux 为此提供了几种方法。

#### 5.2.1 type—显示命令类型

`type` 命令属于 Shell 内建命令，能够显示指定的命令属于哪种类型。其用法
如下：
`type command`

其中，`command` 是想要检查的文件名。下面是一些示例：

```bash
[me@linuxbox ~]$ type type
type is a shell builtin
[me@linuxbox ~]$ type ls
ls is aliased to 'ls --color=tty'
[me@linuxbox ~]$ type cp
cp is /bin/cp
```

从输出结果中可以看到，有 3 种不同的命令。注意 `ls`（取自 Fedora 系统），它
实际上是添加了`--color=tty` 选项的 `ls` 命令的别名。现在我们终于知道了为什么 `ls` 的
输出结果是彩色的！

#### 5.2.2 which—显示可执行文件的位置

有时候，系统中安装的程序不止一个版本。尽管这种情况在桌面系统中并不常
见，但在大型服务器上却是司空见惯的。为了确定某个程序的确切位置，可以使用
`which` 命令：

```bash
[me@linuxbox ~]$ which ls
/bin/ls
```

`which` 命令只适用于可执行文件，不适用于内建命令或代替实际可执行文件的别名。如果试图对 Shell 内建命令（例如 `cd` 命令）使用 `which` 命令，要么不会有任何输出结果，要么得到错误消息：

```bash
[me@linuxbox ~]$ which cd
/usr/bin/which: no cd in (/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games)
```

这算是“命令未找到”（command not found）的一种“精致”说法吧。

### 5.3 获取命令文档

本节介绍了在 Linux 系统中获取命令相关文档和帮助信息的多种方法，从简单的用法提示到完整的参考手册，并提供了各类方法的具体使用案例。

#### 摘要

本节详细阐述了七种获取命令文档的主要方式及其使用案例：

1.  **`help` 命令**

      * **功能**: 专门用于获取 Shell **内建命令**（如 `cd`、`pwd`）的帮助信息。
      * **使用案例**:
        ```bash
        # 查看内建命令 cd 的帮助
        help cd
        ```

2.  **`--help` 选项**

      * **功能**: 绝大多数**可执行程序**都支持此选项，能快速显示命令的基本用法、语法和支持的选项列表。
      * **使用案例**:
        ```bash
        # 查看 ls 命令支持的选项
        ls --help

        # 查看创建目录命令 mkdir 的用法
        mkdir --help
        ```

3.  **`man` 命令**

      * **功能**: 用于查看命令的官方**手册页 (man page)**，这是最传统和正式的文档。手册页分为不同章节，可指定章节号查看。
      * **使用案例**:
        ```bash
        # 查看 ls 命令的手册页（默认在第1节）
        man ls

        # 查看 /etc/passwd 文件格式的手册页（位于第5节）
        man 5 passwd
        ```

4.  **`apropos` 命令**

      * **功能**: 根据关键字在所有手册页的名称和简介中进行搜索，用于查找功能相关但不确定名称的命令。
      * **使用案例**:
        ```bash
        # 查找与“partition”（分区）相关的命令
        apropos partition

        # 查找与 "copy file"（复制文件）相关的命令
        apropos "copy file"
        ```

5.  **`whatis` 命令**

      * **功能**: 显示手册页中对指定命令的单行简短描述，让你能快速了解其核心用途。
      * **使用案例**:
        ```bash
        # 快速查看 ls 命令是做什么的
        whatis ls

        # 快速查看 cp 命令是做什么的
        whatis cp
        ```

6.  **`info` 命令**

      * **功能**: GNU 项目提供的文档系统，内容通常比 `man` 页面更详尽，以超链接节点的形式组织，更像一本完整的说明书。
      * **使用案例**:
        ```bash
        # 查看 ls 命令的 info 文档
        info ls

        # 查看 GNU 核心工具包 (coreutils) 的 info 主菜单
        info coreutils
        ```

7.  **文档文件目录**

      * **功能**: 许多软件包的额外文档（如 README、教程、配置文件示例等）存放在 `/usr/share/doc` 目录中，可直接查看。
      * **使用案例**:
        ```bash
        # 使用 less 查看 bash 软件包的 README 文件
        less /usr/share/doc/bash/README

        # 使用 zless 查看 gzip 软件包的压缩文档
        zless /usr/share/doc/gzip/README.gz
        ```

-----

### 5.4 使用 alias 创建自己的命令

现在可以开始试着写程序了！我们将使用 alias 命令来创建自己的命令。但是在
动手之前，我们需要展示一个命令行的小技巧：可以使用分号作为分隔符，在命令
行中一次性输入多个命令。就像下面这样：
`command1; command2; command3...`

来看一个例子：

```bash
[me@linuxbox ~]$ cd /usr; ls; cd -
bin games include lib local sbin share src
/home/me
[me@linuxbox ~]$
```

可以看到，我们在一行中放置了 3 个命令。首先将当前工作目录更改为/usr，
然后列出目录内容，最后返回先前的目录（使用 `cd -`），这样就又回到了起点。现在，
我们使用 `alias` 命令将上述命令序列变成一个新命令。第一件事就是先为新命令创建
别名。让我们试一试 `test`。不过在此之前，最好检查一下名称 `test` 是否已经被占用
了。为此，使用 `type` 命令：

```bash
[me@linuxbox ~]$ type test
test is a shell builtin
```

`test` 这个名称果然已经被占用了，那就试一试 `foo`：

```bash
[me@linuxbox ~]$ type foo
bash: type: foo: not found
```

很好！`foo` 可以用，让我们来创建别名吧：

```bash
[me@linuxbox ~]$ alias foo='cd /usr; ls; cd -'
```

注意 `alias` 命令的写法：
`alias name='string'`

在 `alias` 之后，我们指定了别名，紧接着（不允许出现空白字符[1]）是等号，然
后是单引号引用的字符串，包含着要赋给别名的内容。定义好的别名可以出现在
Shell 允许出现命令的任何地方。让我们来试一下：

```bash
[me@linuxbox ~]$ foo
bin games include lib local sbin share src
/home/me
[me@linuxbox ~]$
```

我们可以使用 `type` 命令查看别名：

```bash
[me@linuxbox ~]$ type foo
foo is aliased to 'cd /usr; ls; cd -'
```

`unalias` 命令可以删除别名：

```bash
[me@linuxbox ~]$ unalias foo
[me@linuxbox ~]$ type foo
bash: type: foo: not found
```

尽管我们有意避免使用已有的命令名称来为别名命名，但这种做法其实并不少
见。其目的在于为常见命令添加惯用选项。例如，前面讲到的 `ls` 是如何通过别名来
添加颜色支持的：

```bash
[me@linuxbox ~]$ type ls
ls is aliased to 'ls --color=tty'
```

要想知道系统中定义的所有别名，使用不加任何参数的 `alias` 命令即可。下面是
Fedora 系统中默认定义好的一些别名。开动一下脑筋，想一想它们的作用：

```bash
[me@linuxbox ~]$ alias
alias l.='ls -d .* --color=tty'
alias ll='ls -l --color=tty'
alias ls='ls --color=tty'
```

在命令行定义别名还有一个小问题。当 Shell 会话结束时，这些别名也会随之
消失。在第 11 章中，我们将学习如何将别名添加到系统环境初始化文件中。现在，我们已经成功地向 Shell 编程世界迈出了一小步，尽情享受此刻吧！

-----

[1] 空格符、制表符、换行符都属于空白字符。