好的，这是一个简单而又常见的开发场景，我们将通过这个案例来学习你提供的所有 `git branch` 相关命令。

-----

### **案例：为网站添加“用户登录”功能**

**背景:**
你正在开发一个网站，目前只有一些基础页面。你的下一个任务是添加一个全新的功能：用户登录。为了不影响主项目（`main` 分支）的稳定性，你应该在一个新的分支上进行开发。

**目标:**

1.  创建一个名为 `feature-login` 的新分支来开发登录功能。
2.  切换到这个新分支上工作。
3.  在开发过程中，发现分支名不够清晰，将其重命名为 `feature-user-login`。
4.  完成开发后（*我们仅作模拟*），切换回 `main` 分支。
5.  删除已经完成任务的 `feature-user-login` 分支。

-----

### **操作步骤**

打开你的终端或命令行工具，进入你的 Git 项目目录，然后按以下步骤操作。

#### **第 1 步：查看当前分支**

在开始之前，先确认一下你当前在哪个分支，以及项目里有哪些分支。

```bash
git branch
```

**输出:**

```
* main
```

这表示你当前只有一个 `main` 分支，并且你正位于该分支上（`*` 号是标记）。

#### **第 2 步：创建新分支**

现在，为“用户登录”功能创建一个新分支，我们叫它 `feature-login`。

```bash
git branch feature-login
```

这个命令创建了新分支，但你**仍然停留在 `main` 分支**。再次查看所有分支来确认：

```bash
git branch
```

**输出:**

```
  feature-login
* main
```

看，`feature-login` 分支已经成功创建了。

#### **第 3 步：切换到新分支**

现在，切换到新创建的分支上，准备开始开发新功能。

```bash
git switch feature-login
```

**输出:**

```
Switched to branch 'feature-login'
```

你也可以使用 `git switch -c <name>` 命令将第 2 步和第 3 步合二为一。如果你一开始就这样做：
`git switch -c feature-login`
它会直接创建并切换到 `feature-login` 分支，更快捷。

#### **第 4 步：重命名分支**

在 `feature-login` 分支上“开发”了一会儿后，你觉得这个名字不够具体，决定把它改成 `feature-user-login` 会更清晰。

```bash
git branch -m feature-login feature-user-login
```

*注意：这个命令的格式是 `git branch -m <旧名称> <新名称>`*

再次查看分支，确认重命名是否成功。

```bash
git branch
```

**输出:**

```
* feature-user-login
  main
```

分支已经成功重命名，并且你仍然在新分支上。

#### **第 5 步：切换回主分支**

假设你已经在 `feature-user-login` 分支上完成了所有的开发和提交（我们在这里省略了 `git add` 和 `git commit` 的步骤）。现在，你的功能已经准备好合并到主项目了。首先，切换回 `main` 分支。

```bash
git switch main
```

**输出:**

```
Switched to branch 'main'
```

#### **第 6 步：删除分支**

在将功能分支合并到 `main` 分支后（同样，我们省略了 `git merge` 的步骤），`feature-user-login` 分支的历史使命就完成了，可以安全地删除了。

**情况一：安全删除（-d）**

如果分支上的工作已经被合并，或者你确定不再需要它，可以使用 `-d` 进行安全删除。

```bash
git branch -d feature-user-login
```

**输出:**

```
Deleted branch feature-user-login (was abc1234).
```

*`abc1234` 是该分支最后一次提交的哈希值缩写。*

**情况二：强制删除（-D）**

假设你创建了一个叫 `feature-test` 的分支，在上面做了一些错误的实验，并且你**不打算保留**这些修改。

```bash
git switch -c feature-test  # 创建并切换到一个测试分支
# ... 在这里你创建了一些不想保留的提交 ...
git switch main             # 切换回 main
git branch -d feature-test  # 尝试安全删除
```

**此时，Git 会阻止你：**

```
error: The branch 'feature-test' is not fully merged.
If you are sure you want to delete it, run 'git branch -D feature-test'.
```

Git 提示你，这个分支还有未合并的工作，直接删除可能会导致数据丢失。

如果你非常确定要丢弃这些工作，就要使用 `-D` (大写)来强制删除。

```bash
git branch -D feature-test
```

**输出:**

```
Deleted branch feature-test (was def5678).
```

这次 Git 就不会再警告你了。

-----

### **总结**

通过这个简单的案例，你已经实践了 Git 分支管理的几个核心命令：

| 命令 | 用途 | 本案例中的例子 |
| :--- | :--- | :--- |
| `git branch` | 查看所有本地分支 | `git branch` |
| `git branch <name>` | 创建一个新分支 | `git branch feature-login` |
| `git switch <name>` | 切换到已存在的分支 | `git switch feature-login` |
| `git switch -c <name>` | 创建并立刻切换到新分支 | `git switch -c feature-test` |
| `git branch -m <old> <new>` | 重命名分支 | `git branch -m feature-login feature-user-login` |
| `git branch -d <name>` | 安全删除已合并的分支 | `git branch -d feature-user-login` |
| `git branch -D <name>` | 强制删除一个分支（无论是否合并）| `git branch -D feature-test` |

这个流程是日常开发中非常标准的分支操作模式，多多练习就会非常熟练！