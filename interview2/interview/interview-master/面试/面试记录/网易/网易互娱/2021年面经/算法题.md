[651. 4 Keys Keyboard]()

这次的面试老师准备了两个题目

1. 两个整型的二进制位相差的位数。我的想法就是亦或之后去算里面1的个数

```c++
while(m) {
    cnt++;
    m = m & (m-1);
}
```

一个[leetcode](https://www.nowcoder.com/jump/super-jump/word?word=leetcode)低频hard题 [24 Game](javascript:void(0);)



从一副扑克牌中随机抽取四张牌，（1-13，去掉大小王），可以使用加减乘除括号，调换数字的顺序，随便怎么用如（2*4+1+7+8==24, return true），判断有没有一种情况可以让它们的结等于24，有则return true。



别别别，你先别急着做，我们先来想一想，如果[游戏]()里有一个活动，服务器要判断玩家的四张卡牌是否可以组成24，返回给它们一个结果，我们先来考虑一下该用什么数据结构（还问了这个[哈希表]()的函数该怎么设计）。

问：那每一次我都要判断那不是很慢 答: 可以记录之前判断过的
问：那刚开始的时候呢 答：可以预先存一些



然后面试老师让我算算一种有几种情况，然后我就排列组合了一下，发现自己算多了，没考虑到扑克牌的1个数字的四种花色的效果是一样的。其实就几千种，可以直接全存了.....



炸弹袭击



输入节点数，按指定格式输出满[二叉树](https://www.nowcoder.com/jump/super-jump/word?word=二叉树)



给了一张图（数据结构中的图），让1分钟之内计算出从某一结点到另一结点的最短路径，接着问了具体是怎样计算的

最短路径[算法](https://www.nowcoder.com/jump/super-jump/word?word=算法)中最重要的结点是什么



找m个升序数组里面a和b，使得a和b在不同数组且| a-b|的最大值。输出这个最大值。



求第n个[斐波那契数列](https://www.nowcoder.com/jump/super-jump/word?word=斐波那契数列)





一个只有R、G、B三种字符的无序字符数组，要以RGB的顺序进行[排序]()。（比如[B,G,R,B,G,R]---->[R,R,G,G,B,B]） 

  答：当时楼主先想到的是统计每种字符出现的次数的方法，问我时间复杂度（O（n））。 

  现在不允许你用额外的存储空间（ 空间复杂度是O(1)），怎么优化？ 

  答：具体方法参考： https://blog.csdn.net/brucehb/article/details/12363085



手撕代码：括号匹配





**1. 半小时手撕[算法]()** 

  一道手撕[算法]()。 

  一个句子：I have a apple pie 

  一个mxn矩阵，能放几个完整句子 



  I _ _ _ _ 

  h a v e _ 

  a _ _ _ _ 

  a p p l e 

  _ _ p i e 



  撕了半小时，面试官来了，看到O(n2)的暴力，问有没有优化，提示周期。 

  答： 

  假设花了3行保存了一个句子，那么将这3行保存成一个状态。 

  中间经历了几次保存后又出现了这三行的状态则为一个周期，直接相加即可。





[算法]()：[链表]()（反转等）树（BST等）字符串匹配（kmp ac automation manacher trie 后缀自动机 lcs lis lcis等）查找（二分 约瑟夫环 随机圆内点 跳表等）图（tarjan unionfind bfd dijsktra a* 二分图 ） DP(一维dp 背包 状压DP 树形DP 数位DP等) 

  还有前缀和 滑动窗口 线段树 单调栈等等。





**4. 嘴撕[算法]()** 

  mxn包含只01的矩阵，左上角为0，右下角为1，f(x,y)可以翻开某个点确认0还是1。0只和0连通，1只和1连通。（上下左右相连，斜边不算） 

  问怎么翻开f次数，使得f最少能得知所有点情况。 


  想了30s~1分钟，答： 

  同时左上0和右下1开始遍历，以左上为例子，开始只有两个路线，右或者下。 

  如果全是1，结束。如果一个1一个0，走0，因为连通的关系，1是死路。如果全是0，都遍历。 

  一般情况：中间某个位置为0，如果有三边为1，走0，不然结束。如果超过两边为0，全走。 

  

  面试官点了下头，没有继续问优化。 





一道智力题，有100个怪兽，两支队伍，每次能杀1-5个怪兽，你作为先手方怎么才能确保获胜（获胜条件是最后一个怪物是你杀的）



前半个小时没有面试官，自己做一道题，简单dp：
定义四种操作：A：输入A；CTRL-A：全选；CTRL-C：复制；CTRL-V：粘贴；给你操作次数n，输出操作n次后最多能有多少个A。



让手撸一个shared_ptr



实现一个容器，O1的查找，插入，删除，随机返回一个元素，苦思冥想半天没想出来，中间也是一直在引导我，奈何我太菜，后来查了一下发现在李扣上做过，用hashmap+vector，删除时将删除的元素和最后一个元素交换即可。。







有编号0-N-1总共N个小朋友，如果小朋友A跟B熟悉，B跟C熟悉，那么A也跟C熟悉； 

 日志格式大概为["20200101,1,2"]…第一个是时间，第二个是第一个人的编号A，第三个是第二个人的编号B 

 表示小朋友A和B在这一天熟悉；给你一堆日志，问你最早什么时候小朋友全认识 

 简单的[排序]()+并查集即可，并查集写出路径压缩应该是比较好的了吧





撕代码

写个函数实现驼峰命名和下划线命名的互相转换

给个数组，实现奇数在左边，偶数在右边



智力题？

甲乙博弈，甲每次能画10个红点，乙每次能画1个黑点，乙画成3个点构成等边三角形就能赢，谁能赢。乙几次能赢





手写代码：判断数组中是否存在合法三元组（前缀和然后循环，感觉是[leetcode](https://www.nowcoder.com/jump/super-jump/word?word=leetcode)简单题的难度）



手写代码：判断数组形式二叉查找树合法性，自己跑出样例/





嘴撕代码：[leetcode](https://www.nowcoder.com/jump/super-jump/word?word=leetcode)138复制带随机指针的[链表](https://www.nowcoder.com/jump/super-jump/word?word=链表)



嘴撕代码：[leetcode](https://www.nowcoder.com/jump/super-jump/word?word=leetcode)213打家劫舍2



智力题，一个天平，12个硬币，有一个假币找出来，假币可能比真币重或者轻



[leetcode](https://www.nowcoder.com/jump/super-jump/word?word=leetcode)1129 安排会议



实现一个队列，输出首个只出现1次的元素



半小时笔试，输入一堆时间戳字符串，按条件筛时间戳，输入贼恶心是字符串像数组的形式（大概是["123","456"]）



1. 遍历一遍找到[链表](https://www.nowcoder.com/jump/super-jump/word?word=链表)倒数第k个元素
2. 最大连续子序列
3. 删除1-n中的一个数，再复制另一个数，找出这两个数
4. 两个栈实现队列



前半个小时手撕代码：给一个字符串找最长回文子序列，要求必须为偶数长度且除了正中间两个字母外不能有连续相同的两个字母。



- 5升的杯子与3升的杯子 称4升水



- 最长无重复的子串

- 手写堆排



- 从左上角走到右下角的最小权值路径



代码格式化 



手写指针交换



- 缺页中断



- 战斗力排行榜设计



- 两个有序数组中位数



二维数组[排序](https://www.nowcoder.com/jump/super-jump/word?word=排序)，每行数组是有序的



- 求中位数，一直加数据并查询



- 一个直线，分布n个村庄，k个邮局，如何确定邮局位置，使得村庄到邮局的最短距离的和，最短？（这个挺难的，是poj1160原题）



- [游戏](https://www.nowcoder.com/jump/super-jump/word?word=游戏)加buff，buff取最大值，每个buff有存在时间和被指定消解，怎么处理人物的buff状态？



- 一个平面直角坐标系，一些线段平行于x轴，一些线段平行于y轴，求各个线段是否相交



又做了个简单的题目：0-9对应的单词，一个数字串转成单词串，再打乱，让还原。



前半小时一道[算法](https://www.nowcoder.com/jump/super-jump/word?word=算法) ， 大概是一个字符串匹配问题 ，给定一个字符串和一个字符串集合 ，在集合里去匹配的问题



1 [括号匹配]()            相关知识点：                    [字符串](javascript: void(0))[栈](javascript: void(0))            相关知识点：                    [字符串](javascript: void(0))[栈](javascript: void(0))（热手） 

  2 1 ~ n的数组找缺少的元素 （异或运算， 或者求和相减） 

  3 简单dp，二维矩阵左上到右下的最短路径。 

 4 [旋转数组找target]() （经典二分） 

  5 在一个园内随机生成点（极坐标）





输入一串数字，每个数字为0或1，你只能将一个0翻转成1，求这一串数字中能组成的最长的1是多长？

进阶：输入是无限制的流该怎么处理？



[算法题](https://www.nowcoder.com/jump/super-jump/word?word=算法题)lc 651



设计一个只能在堆上生成，或者只能在栈上生成的对象（new私有，构造函数私有）



设计数据结构，使得string可以方便插入，查询以及检测是否是已有字符串的前缀（撸了一个前缀树）



[算法题](https://www.nowcoder.com/jump/super-jump/word?word=算法题)：数组a,b，已知a，b=累乘（a[i])(i:0~a.len && i != j)



场景题：一亿个分数(范围[0,20000])实施排名，实现int findRank(int score), void update(new, old)