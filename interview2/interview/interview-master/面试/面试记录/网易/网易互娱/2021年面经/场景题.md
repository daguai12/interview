一个是两人扔硬币正面获胜，先手获胜的概率；

二个是[海量数据](https://www.nowcoder.com/jump/super-jump/word?word=海量数据)找出出现次数最高的那个字符串。



王者荣耀人物周围一群小怪，你放技能如何判断伤害打到了哪个小怪身上。我也答的不好，他叫我想其他方法，想了一分钟我没有想出来。



问：如果两个人同时注册他们的ID号重复了怎么办，你也知道注册的越早ID号越小，也会有人去抢？

这个最后发现自己没考虑对方向。面试老师说在开服的时候，一般都会在每个服务器预留一定数量的ID，注册的时候给玩家分配。（我）原来还能这样

问：如果我要实现一个排名系统，应该用什么数据结构？这个好像挺多人都被问道的

问：如果一个技能是在一个圈内均匀随机地落下石块，该怎么实现？

答：这个应该和半径有关，离圆心越远地地方概率越高balabala（其实这题回答地也不是很好，面完之后，仔细想了一下，发现可以直接用极坐标，当时没想到）。

问：那如果不知道怎么做的话，现在又有这个需求需要你去做呢（然后说那是不是可以直接在平面上随机生成，然后判断生成的点在不在圆里面，平面随机生成点是很容易的对吧）





场景题： 

  如果一个用户上传图片失败了，原因可能有哪些？怎么去定位bug？ 

  答：这道题属于比较开放的题目了，只要言之有理即可。（其实就是楼主忘记了当时怎么回答的，狗头） 

  如何实现一个扫码登陆的功能？ 

  答：不需要太详细，讲讲大概的思路就OK啦~建议参考： https://www.cnblogs.com/huanshilang/p/12365376.html



8.两个设计题： 

   ①排行榜问题，扯了很久，就拿lol的rank分机制举例，说了一个树形的结构，因为大部分玩家的分数应该都聚集在中间，比如说1000-2000之间，所以说在划分区间的过程中，应该越靠近中间，区间大小是偏小的，比如说0-1500的区间我也许就划分为0-1000和1000-1500，然后又扯这个树节点该存储什么，如何插入，如何调整，如何得到排名也就是topk...但是感觉说的有点乱，总的来说感觉应该没啥大问题；  

   


   ②设计word文档里面的撤销和重写操作，ctrl z/ctrl y，懂的都懂，这里说的双向[链表]()，并且具体解释了一会儿接着让我手写一下这个实现，我一时有点懵，然后就写template，写完插入的时候，时间到了面试官说时间有限今天的面试就到这里了（说到这里让我感觉有点慌，咋就就到这里了…）





场景题，设计[游戏]()排行榜，显示前一百名，同时可以查询自己的名次，运行一段时间数据量可能很大，而且分数可能分布不均匀有聚集//排名应该就是TOP（k），至于查询排名说了挺多，没有好方法，都是不好实现，大家场景题尽量多说，不要停止思考



10亿个ipv4地址，找出访问最多次的地址。



在空间中给定主角的坐标和一堆小怪的坐标，找到与主角距离最近的10只小怪



第2问中主角的坐标会改变，怎么动态查询距离最近的10只怪（口嗨了一个kdtree，自我感觉良好）





然后出了一些协作开发时候会遇到的问题，比如说重复定义全局变量咋办，别人在这个文件里面定义了a，我也在这定义了a，我要怎么让这两个人语义都是清晰的。就比如说，我想让我文件里的变量，让别人用的时候是用我这个，别人在他的文件里面用的时候也是我这个变量。还有一种情况，我想让别人自己用自己的变量。我反正挺蒙的，而且还是只能用C写。我说static可以解决一种情况。或者写个文件，专门存全部人的全局变量。然后他说不够优雅，然后我就说可能没有更好的想法了。 



  7、如果C++ 类中有很多指针，在构造函数的时候对这些指针进行new初始化，但是new报错了，这对象肯定是不能用的，但是之前的对象已经申请了。我要怎么在new出现错误后，把之前已经申请的对象回收掉。我说开个标记数组，如果成了的话，就标记一下，如果遇到异常我就回退回去，把标记数组里面对象清空。然后就被否定了，说写的很丑，不行。



- 40亿数，找到出现2次的数字（bitmap



- 拿书问题每个人最多拿1~3本书，101本书，先手能够必赢吗

- 《荒野行动》（多人在线[游戏](https://www.nowcoder.com/jump/super-jump/word?word=游戏)，即时性要求高），要选用什么协议？为什么？



1 [游戏]()排行榜的设计 ， 设计一个数据结构存数据 ， 实现两个接口， 一个是更新rank分数和排名 ， 一个是查询rank 

  说了两个的方案 ， 都有问题 ， 然后我说我没办法了 。。。 

  2 处理一个包含大量 ip地址和ip地址对应的地区 的文件 ，设计一个数据结构将数据储存 ， 然后实现一个接口 ，输入ip 返回其对应地区。



1. 让你实现一个程序输出文件的倒数N行，怎么做？