`raise()` 和 `kill()` 都是用于发送信号的函数，但它们在作用范围、使用场景和参数设计上有显著区别。以下是具体对比：


### 1. 函数原型与基本功能
- **`raise()`**  
  原型：  
  ```c
  #include <signal.h>
  int raise(int sig);
  ```  
  功能：**向当前进程自身发送信号**（`sig` 为信号编号）。


- **`kill()`**  
  原型：  
  ```c
  #include <signal.h>
  int kill(pid_t pid, int sig);
  ```  
  功能：**向指定进程（或进程组）发送信号**（`pid` 指定目标，`sig` 为信号编号）。


### 2. 核心区别：作用范围
这是两者最关键的差异：  
- **`raise(sig)` 等价于 `kill(getpid(), sig)`**：  
  只能向**当前进程自己**发送信号，无法操作其他进程。  
  例如：`raise(SIGINT)` 会让当前进程收到 `SIGINT` 信号（类似按下 `Ctrl+C`）。

- **`kill(pid, sig)` 可以向任意进程发送信号**：  
  通过 `pid` 参数指定目标，灵活性更高，常见用法：  
  - `pid > 0`：向进程 ID 为 `pid` 的进程发送信号；  
  - `pid = 0`：向当前进程所在的进程组内所有进程发送信号；  
  - `pid = -1`：向系统中所有有权限发送信号的进程发送信号（特殊权限限制）；  
  - `pid < -1`：向进程组 ID 为 `|pid|` 的所有进程发送信号。  


### 3. 权限要求
- **`raise()`**：  
  向自身发送信号，**无需额外权限**（任何进程都可以向自己发送信号）。

- **`kill()`**：  
  向其他进程发送信号时，需要**满足权限要求**：  
  - 普通用户只能向属于自己的进程（有效 UID 匹配）发送信号；  
  - 特权用户（`root`）可以向任何进程发送信号（除了 `init` 等特殊进程）。  


### 4. 返回值与错误处理
- 两者成功时都返回 `0`，失败时返回 `-1` 并设置 `errno`。  
- 常见错误：  
  - `raise()`：仅可能因 `sig` 是无效信号（`errno = EINVAL`）失败；  
  - `kill()`：可能因 `pid` 无效（`errno = ESRCH`）、权限不足（`errno = EPERM`）或 `sig` 无效（`errno = EINVAL`）失败。  


### 5. 使用场景
- **`raise()`**：  
  适用于进程需要“自我触发”信号的场景，例如：  
  - 程序检测到致命错误时，自我发送 `SIGABRT`（类似 `abort()` 的实现）；  
  - 模拟信号触发以测试信号处理器逻辑。  

  示例：  
  ```c
  #include <signal.h>
  void handler(int sig) { printf("收到信号 %d\n", sig); }
  int main() {
      signal(SIGUSR1, handler);
      raise(SIGUSR1);  // 向自己发送SIGUSR1
      return 0;
  }
  ```


- **`kill()`**：  
  适用于需要**跨进程发送信号**的场景，例如：  
  - 父进程控制子进程（如发送 `SIGTERM` 终止子进程）；  
  - 进程间通信（通过信号传递简单事件）；  
  - 命令行工具（如 `kill` 命令底层就是 `kill()` 系统调用）。  

  示例：  
  ```c
  #include <signal.h>
  #include <sys/types.h>
  int main() {
      pid_t target_pid = 12345;  // 目标进程ID
      kill(target_pid, SIGTERM);  // 向目标进程发送终止信号
      return 0;
  }
  ```


### 总结对比表
| 特性         | `raise()`                  | `kill()`                      |
|--------------|----------------------------|-------------------------------|
| 作用范围     | 仅当前进程                 | 任意进程/进程组（按 `pid` 指定） |
| 参数         | 仅信号编号 `sig`           | 目标进程 ID `pid` + 信号编号 `sig` |
| 权限要求     | 无（向自身发送）           | 需要对应进程的发送权限         |
| 典型用途     | 进程自我触发信号           | 跨进程发送信号、进程控制       |
| 等价关系     | `raise(sig) ≡ kill(getpid(), sig)` | 无等价简化形式                |


简言之：`raise()` 是“自给自足”的信号发送函数，仅用于当前进程；`kill()` 是更通用的跨进程信号发送工具，功能更强大但需要考虑权限和目标进程 ID。