
面试官您好，虽然 TCP 协议通过一系列复杂机制保证了可靠性，但它并非完美，尤其在现代网络环境下，其设计存在一些固有的缺陷。主要可以总结为以下四点：

### 1. 升级和演进困难

* **问题点**：TCP 协议是在**操作系统内核**中实现的。
* **影响**：这意味着对 TCP 的任何改进或新特性的添加，都强依赖于用户和服务器的**内核升级**。这个过程通常非常缓慢和保守，因为企业需要进行大量的回归测试来确保业务稳定性。因此，像 TCP Fast Open 这样的优秀特性，即使提出多年，也因为客户端和服务端系统升级滞后而难以普及。

### 2. 连接建立延迟高

* **问题点**：TCP 在传输数据前必须先完成**三次握手**，这至少带来 1 个 RTT (Round-Trip Time) 的延迟。
* **影响**：对于现在主流的 HTTPS 应用，这个延迟会加剧。因为在 TCP 握手之后，还需要进行 TLS 握手（通常又是 1-2 个 RTT），然后才能传输应用数据。这两个握手过程是串行的，总延迟较高，影响首屏加载速度。

### 3. 存在队头阻塞 (Head-of-Line Blocking)

* **问题点**：TCP 是一个严格的**有序字节流**协议。
* **影响**：在 TCP 层面，如果一个数据包（TCP Segment）在网络中丢失，那么即使它之后的数据包已经到达接收方，接收方的 TCP 协议栈也必须等待丢失的包被重传并到达后，才能将所有数据一同交付给应用层。在此期间，整个连接的数据流都被阻塞了。这个问题在 **HTTP/2** 这种多路复用协议上尤为严重，一个 TCP 包的丢失会阻塞所有并发的 HTTP 请求。

### 4. 连接迁移成本高

* **问题点**：一条 TCP 连接由**四元组（源 IP, 源端口, 目的 IP, 目的端口）** 唯一确定。
* **影响**：在移动互联网场景下，当用户的网络环境切换时（例如从 4G 切换到 Wi-Fi），设备的 IP 地址会发生变化，导致四元组失效。此时，所有 TCP 连接都必须中断并重新建立。这个过程不仅包括了握手带来的高延迟，还会触发 TCP 的慢启动，导致网络体验上出现明显的卡顿。

**总结**：正是因为 TCP 存在这些难以解决的缺陷，业界才会转向在 UDP 之上构建新的可靠传输协议，其中最成功的代表就是 **QUIC**。QUIC 在应用层实现了连接管理、可靠传输和拥塞控制等功能，有效地解决了 TCP 的队头阻塞、连接迁移和升级困难等核心痛点，并被应用在了 **HTTP/3** 中。